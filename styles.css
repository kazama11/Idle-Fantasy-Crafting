:root { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    body { margin: 0; display: grid; grid-template-columns: 300px 1fr 440px; height: 100vh; }
    header { grid-column: 1 / -1; padding: 10px 14px; border-bottom: 1px solid #ddd; display:flex; flex-wrap:wrap; align-items:flex-start; position:relative; gap:10px; }
    header .tabs button { margin-right: 6px; }
    aside { border-right: 1px solid #ddd; padding: 12px; overflow:auto; }
    main { padding: 12px; overflow:auto; }
    .right { border-left: 1px solid #ddd; padding: 12px; overflow:auto; }
    .row { display:flex; gap:10px; align-items:center; flex-wrap: wrap; }
    .col { display:flex; flex-direction:column; gap:8px; }
    .muted { color:#666; font-size: 12px; }
    .card { border:1px solid #ddd; border-radius: 12px; padding:12px; margin:10px 0; background:#fff; }
    .list { display:flex; flex-direction:column; gap:8px; }
    .item { padding:10px; border:1px solid #e5e5e5; border-radius: 12px; cursor:pointer; background:#fff; }
    .item.active { border-color:#222; }
    
    .item.flash { 
      animation: flashPulse 1.4s ease-out 1;
      border-color:#222;
      box-shadow: 0 0 0 3px rgba(0,0,0,0.14);
    }
    @keyframes flashPulse {
      0%   { transform: scale(1); box-shadow: 0 0 0 0 rgba(0,0,0,0.22); background: #fff; }
      30%  { transform: scale(1.01); box-shadow: 0 0 0 6px rgba(0,0,0,0.12); background: #fafafa; }
      100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0,0,0,0.0); background: #fff; }
    }
    @media (prefers-reduced-motion: reduce) {
      .item.flash {
        animation: none;
        box-shadow: none;
      }
    }
label { font-size: 12px; color:#444; }
    input, select, textarea, button { font: inherit; }
    input, select, textarea { width: 100%; padding: 9px; border-radius: 12px; border:1px solid #ddd; }
    textarea { min-height: 90px; resize: vertical; }
    button { padding: 9px 12px; border-radius: 12px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    button.primary { border-color:#222; }
    button.danger { border-color:#b00; color:#b00; }
    button.ghost { border-color:#ddd; color:#222; }
    button.small { padding:6px 10px; font-size:12px; }
    .chips { display:flex; flex-wrap: wrap; gap:6px; }
    .chip { border:1px solid #ddd; border-radius: 999px; padding: 5px 10px; font-size: 12px; cursor:pointer; user-select:none; }
    .chip.on { border-color:#222; }
    .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    .grid3 { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px; }
    .hr { height:1px; background:#eee; margin:10px 0; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
    .pill { font-size:12px; padding:4px 8px; border:1px solid #ddd; border-radius:999px; }
    .createBox {
      border: 2px dashed #ccc;
      border-radius: 14px;
      padding: 12px;
      background: #fafafa;
      margin-top: 10px;
    }
    .createBox .title {
      font-weight: 800;
      letter-spacing: .06em;
      font-size: 12px;
      color: #222;
    }
    .kbd { font-size:12px; padding:2px 6px; border:1px solid #ddd; border-radius:6px; background:#fff; }
    
    .progress { height: 10px; background: #eee; border-radius: 999px; overflow: hidden; }
    .progressFill { height: 100%; background: #222; width: 0%; }
    .actions { display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end; }
    .badge { font-size:11px; padding:2px 8px; border:1px solid #ddd; border-radius:999px; background:#fafafa; }
details summary { cursor:pointer; }
  
    /* -------------------- NAV: Modes + Context Bar (Sprint 16) -------------------- */
    .modebar { gap:8px; flex-wrap:wrap; margin-top:8px; }
    .modeBtn { padding:6px 10px; border-radius:999px; border:1px solid #ddd; background:#fff; font-size:12px; }
    .modeBtn.primary { background:#222; color:#fff; border-color:#222; }
    .contextbar { gap:10px; flex-wrap:wrap; margin-top:6px; }
    .contextGroup { display:flex; gap:6px; align-items:center; flex-wrap:wrap; }
    .contextLabel { font-size:12px; color:#444; }
    .contextSelect { max-width:240px; }
    .contextPill { font-size:12px; padding:4px 10px; border:1px solid #ddd; border-radius:999px; background:#fafafa; }

  
    /* -------------------- NAV: Search + Recents (Sprint 17) -------------------- */
    .navResults { width: 100%; }
    .navPanel { border:1px solid #ddd; border-radius:14px; background:#fff; padding:10px; box-shadow: 0 8px 24px rgba(0,0,0,.06); }
    .navResultBtn { width:100%; text-align:left; padding:8px 10px; border:1px solid #eee; border-radius:12px; background:#fafafa; margin-top:6px; }
    .navResultBtn:hover { background:#f0f0f0; }
    .navSub { font-size:12px; color:#666; margin-top:2px; }
    .navSearch { padding:6px 10px; border-radius:999px; border:1px solid #ddd; background:#fff; font-size:12px; min-width:240px; }
    .recentRow { display:flex; gap:6px; flex-wrap:wrap; }

    /* -------------------- NAV: History + Breadcrumbs (Sprint 19) -------------------- */
    .navCrumbs { display:flex; gap:6px; align-items:center; flex-wrap:wrap; }
    .crumb { font-size:12px; padding:4px 8px; border:1px solid #ddd; border-radius:999px; background:#fff; }
    .crumb.active { background:#222; color:#fff; border-color:#222; }
    .crumbSep { color:#999; font-size:12px; padding:0 2px; }
    .navNavBtn { padding:4px 8px; border-radius:8px; border:1px solid #ddd; background:#fff; font-size:12px; }
    .navNavBtn:disabled { opacity:0.45; }

    /* -------------------- OVERLAYS + TOASTS -------------------- */
    .modal { position:fixed; inset:0; z-index:9999; display:none; background:rgba(0,0,0,.55); padding:14px; overflow:auto; }
    .modal__dialog { max-width:520px; margin:0 auto; }
    .modal__card { background:#fff; border-radius:16px; padding:12px; border:1px solid #ddd; }
    .modal__header { display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .modal__title { font-weight:900; font-size:14px; letter-spacing:.06em; }
    .modal__subtitle { color:#666; font-size:12px; }
    .modal__actions { display:flex; gap:8px; }
    .modal__button { padding:9px 12px; border-radius:12px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .modal__button--primary { border-color:#222; font-weight:700; }
    .modal__body { text-align:center; margin-top:10px; position:relative; }
    .modal__pointer { position:absolute; top:6px; left:50%; transform:translateX(-50%); z-index:5; font-size:22px; }
    .modal__result { margin-top:10px; color:#222; font-size:13px; }

    .fatal-overlay { position:fixed; inset:0; z-index:99999; display:none; background:rgba(10,10,10,0.86); color:#fff; padding:16px; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; overflow:auto; }
    .fatal-card { max-width:960px; margin:0 auto; }
    .fatal-header { display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .fatal-title { font-size:18px; font-weight:700; }
    .fatal-sub { opacity:.8; margin-top:4px; }
    .fatal-actions { display:flex; gap:8px; }
    .fatal-btn { padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.5); background:transparent; color:#fff; font-weight:700; cursor:pointer; }
    .fatal-btn--reset { border:0; background:#fff; color:#000; }
    .fatal-stack { white-space:pre-wrap; margin-top:12px; padding:12px; border-radius:12px; background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.12); }
    .fatal-tip { opacity:.75; margin-top:10px; line-height:1.4; }

    .toast-container { position:fixed; bottom:20px; left:50%; transform:translateX(-50%); z-index:10000; display:flex; flex-direction:column; gap:8px; align-items:center; }
    .toast { background:rgba(0,0,0,0.8); color:white; padding:10px 16px; border-radius:999px; font-size:14px; box-shadow:0 4px 12px rgba(0,0,0,0.15); }
